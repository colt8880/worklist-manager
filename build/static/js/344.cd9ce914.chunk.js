"use strict";(self.webpackChunkworklist_manager=self.webpackChunkworklist_manager||[]).push([[344],{5976:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(5043),o=n(2153),a=n(630);const i=()=>{const e=(0,o.jL)(),{authError:t}=(0,o.GV)((e=>e.auth));return(0,r.useEffect)((()=>{console.log("[AuthErrorHandler] Component mounted, clearing errors"),e((0,a.ET)())}),[e]),(0,r.useEffect)((()=>{if(t)return console.log("[AuthErrorHandler] authError detected, will clear on unmount"),()=>{console.log("[AuthErrorHandler] Component unmounting, clearing errors"),e((0,a.ET)())}}),[t,e]),null}},344:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(5043),o=n(6446),a=n(9252),i=n(3336),l=n(1906),s=n(5865),c=n(2664),u=n(5795),d=n(8446),g=n(6727),h=n(9120),m=n(2153),x=n(630),p=n(5976),f=n(579);const A=()=>{const[e,t]=(0,r.useState)(""),[n,A]=(0,r.useState)(""),b=(0,g.Zp)(),j=(0,m.jL)(),{authError:v,isLoading:w}=(0,m.GV)((e=>e.auth)),E=(0,r.useRef)(!0);(0,r.useEffect)((()=>(E.current=!0,()=>{E.current=!1})),[]);return(0,f.jsxs)(o.A,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(255, 255, 255, 0.95)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(5px)"},children:[(0,f.jsx)(p.A,{}),(0,f.jsx)(a.A,{maxWidth:"sm",children:(0,f.jsxs)(i.A,{elevation:3,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[(0,f.jsx)(l.A,{startIcon:(0,f.jsx)(h.A,{}),onClick:()=>{console.log("[LoginPage] Navigating back to home"),j((0,x.ET)()),b("/")},sx:{position:"absolute",top:16,left:16},children:"Back"}),(0,f.jsx)(s.A,{variant:"h4",component:"h1",sx:{mb:4,textAlign:"center",mt:2},children:"Welcome Back"}),(0,f.jsxs)(o.A,{component:"form",onSubmit:async t=>{if(t.preventDefault(),e&&n)try{console.log("[LoginPage] Attempting login");await j((0,x.iD)({username:e,password:n})).unwrap();E.current&&b("/projects")}catch(r){console.error("[LoginPage] Login error:",r),E.current||j((0,x.ET)())}},sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[v&&(0,f.jsx)(c.A,{severity:"error",sx:{mb:2,width:"100%"},children:v}),(0,f.jsx)(u.A,{fullWidth:!0,label:"Email",type:"email",value:e,onChange:e=>t(e.target.value),margin:"normal",required:!0}),(0,f.jsx)(u.A,{fullWidth:!0,type:"password",label:"Password",value:n,onChange:e=>A(e.target.value),margin:"normal",required:!0,inputProps:{"data-testid":"password-input"}}),(0,f.jsx)(l.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:w,children:w?"Signing In...":"Sign In"}),(0,f.jsx)(o.A,{sx:{mt:2,textAlign:"center",width:"100%"},children:(0,f.jsxs)(s.A,{variant:"body2",children:["Don't have an account?"," ",(0,f.jsx)(d.A,{component:"button",variant:"body2",onClick:()=>{console.log("[LoginPage] Navigating to register"),j((0,x.ET)()),b("/register")},sx:{fontWeight:"bold"},children:"Create an Account"})]})})]})]})})]})}},9120:(e,t,n)=>{var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);
//# sourceMappingURL=344.cd9ce914.chunk.js.map